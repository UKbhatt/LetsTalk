(()=>{var n={753:function(n){var t;t=function(){return function(n){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return n[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}return e.m=n,e.c=t,e.p="",e(0)}([function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function o(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function i(n,t,e){this.root=null,this._routes=[],this._useHash=t,this._hash=void 0===e?"#":e,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!t&&o(),this._onLocationChange=this._onLocationChange.bind(this),this._genericHooks=null,n?this.root=t?n.replace(/\/$/,"/"+this._hash):n.replace(/\/$/,""):t&&(this.root=this._cLoc().split(this._hash)[0].replace(/\/$/,"/"+this._hash)),this._listen(),this.updatePageLinks()}function r(n){return n instanceof RegExp?n:n.replace(/\/+$/,"").replace(/^\/+/,"/")}function s(n){return n.replace(/\/$/,"").split("/").length}function a(n,t){return s(t)-s(n)}function d(n){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((function(t){var e=function(n){var t=[];return{regexp:n instanceof RegExp?n:new RegExp(r(n).replace(i.PARAMETER_REGEXP,(function(n,e,o){return t.push(o),i.REPLACE_VARIABLE_REGEXP})).replace(i.WILDCARD_REGEXP,i.REPLACE_WILDCARD)+i.FOLLOWED_BY_SLASH_REGEXP,i.MATCH_REGEXP_FLAGS),paramNames:t}}(t.route),o=e.regexp,s=e.paramNames,a=n.match(o),d=function(n,t){return 0===t.length?null:n?n.slice(1,n.length).reduce((function(n,e,o){return null===n&&(n={}),n[t[o]]=decodeURIComponent(e),n}),null):null}(a,s);return!!a&&{match:a,route:t,params:d}})).filter((function(n){return n}))}function c(n,t){return d(n,t)[0]||!1}function l(n,t){var e=d(n,t.filter((function(n){var t=r(n.route);return""!==t&&"*"!==t}))),o=r(n);return e.length>0?e.map((function(t){return r(n.substr(0,t.match.index))})).reduce((function(n,t){return t.length<n.length?t:n}),o):o}function h(n,t,o){t&&"object"===(void 0===t?"undefined":e(t))?t.before?t.before((function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(n(),t.after&&t.after(o))}),o):t.after&&(n(),t.after&&t.after(o)):n()}i.prototype={helpers:{match:c,root:l,clean:r},navigate:function(n,t){var e;return n=n||"",this._usePushState?(e=(e=(t?"":this._getRoot()+"/")+n.replace(/^\/+/,"/")).replace(/([^:])(\/{2,})/g,"$1/"),history[this._paused?"replaceState":"pushState"]({},"",e)):"undefined"!=typeof window&&(n=n.replace(new RegExp("^"+this._hash),""),window.location.href=window.location.href.replace(/#$/,"").replace(new RegExp(this._hash+".*$"),"")+this._hash+n),this},on:function(){for(var n=this,t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];if("function"==typeof o[0])this._defaultHandler={handler:o[0],hooks:o[1]};else if(o.length>=2)if("/"===o[0]){var r=o[1];"object"===e(o[1])&&(r=o[1].uses),this._defaultHandler={handler:r,hooks:o[2]}}else this._add(o[0],o[1],o[2]);else"object"===e(o[0])&&Object.keys(o[0]).sort(a).forEach((function(t){n.on(t,o[0][t])}));return this},off:function(n){return null!==this._defaultHandler&&n===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&n===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce((function(t,e){return e.handler!==n&&t.push(e),t}),[]),this},notFound:function(n,t){return this._notFoundHandler={handler:n,hooks:t},this},resolve:function(n){var t,e,i=this,r=(n||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(r=r.replace(new RegExp("^/"+this._hash),"/"));var s=function(n){return n.split(/\?(.*)?$/).slice(1).join("")}(n||this._cLoc()),a=function(n,t,e){var i=n.split(/\?(.*)?$/)[0];return void 0===e&&(e="#"),o()&&!t&&(i=i.split(e)[0]),i}(r,this._useHash,this._hash);return!(this._paused||this._lastRouteResolved&&a===this._lastRouteResolved.url&&s===this._lastRouteResolved.query)&&((e=c(a,this._routes))?(this._callLeave(),this._lastRouteResolved={url:a,query:s,hooks:e.route.hooks},t=e.route.handler,h((function(){h((function(){e.route.route instanceof RegExp?t.apply(void 0,function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}(e.match.slice(1,e.match.length))):t(e.params,s)}),e.route.hooks,e.params,i._genericHooks)}),this._genericHooks),e):this._defaultHandler&&(""===a||"/"===a||a===this._hash||function(n,t,e){if(o()&&!t)return!1;if(!n.match(e))return!1;var i=n.split(e);return i.length<2||""===i[1]}(a,this._useHash,this._hash))?(h((function(){h((function(){i._callLeave(),i._lastRouteResolved={url:a,query:s,hooks:i._defaultHandler.hooks},i._defaultHandler.handler(s)}),i._defaultHandler.hooks)}),this._genericHooks),!0):(this._notFoundHandler&&h((function(){h((function(){i._callLeave(),i._lastRouteResolved={url:a,query:s,hooks:i._notFoundHandler.hooks},i._notFoundHandler.handler(s)}),i._notFoundHandler.hooks)}),this._genericHooks),!1))},destroy:function(){this._routes=[],this._destroyed=!0,clearTimeout(this._listenningInterval),"undefined"!=typeof window&&(window.removeEventListener("popstate",this._onLocationChange),window.removeEventListener("hashchange",this._onLocationChange))},updatePageLinks:function(){var n=this;"undefined"!=typeof document&&this._findLinks().forEach((function(t){t.hasListenerAttached||(t.addEventListener("click",(function(e){var o=n.getLinkPath(t);n._destroyed||(e.preventDefault(),n.navigate(r(o)))})),t.hasListenerAttached=!0)}))},generate:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this._routes.reduce((function(e,o){var i;if(o.name===n)for(i in e=o.route,t)e=e.toString().replace(":"+i,t[i]);return e}),"");return this._useHash?this._hash+e:e},link:function(n){return this._getRoot()+n},pause:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=n},resume:function(){this.pause(!1)},disableIfAPINotAvailable:function(){o()||this.destroy()},lastRouteResolved:function(){return this._lastRouteResolved},getLinkPath:function(n){return n.pathname||n.getAttribute("href")},hooks:function(n){this._genericHooks=n},_add:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"string"==typeof n&&(n=encodeURI(n)),"object"===(void 0===t?"undefined":e(t))?this._routes.push({route:n,handler:t.uses,name:t.as,hooks:o||t.hooks}):this._routes.push({route:n,handler:t,hooks:o}),this._add},_getRoot:function(){return null!==this.root||(this.root=l(this._cLoc().split("?")[0],this._routes)),this.root},_listen:function(){var n=this;if(this._usePushState)window.addEventListener("popstate",this._onLocationChange);else if("undefined"!=typeof window&&"onhashchange"in window)window.addEventListener("hashchange",this._onLocationChange);else{var t=this._cLoc(),e=void 0,o=void 0;(o=function(){e=n._cLoc(),t!==e&&(t=e,n.resolve()),n._listenningInterval=setTimeout(o,200)})()}},_cLoc:function(){return"undefined"!=typeof window?void 0!==window.__NAVIGO_WINDOW_LOCATION_MOCK__?window.__NAVIGO_WINDOW_LOCATION_MOCK__:r(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))},_onLocationChange:function(){this.resolve()},_callLeave:function(){this._lastRouteResolved&&this._lastRouteResolved.hooks&&this._lastRouteResolved.hooks.leave&&this._lastRouteResolved.hooks.leave()}},i.PARAMETER_REGEXP=/([:*])(\w+)/g,i.WILDCARD_REGEXP=/\*/g,i.REPLACE_VARIABLE_REGEXP="([^/]+)",i.REPLACE_WILDCARD="(?:.*)",i.FOLLOWED_BY_SLASH_REGEXP="(?:/$|$)",i.MATCH_REGEXP_FLAGS="",t.default=i,n.exports=t.default}])},n.exports=t()}},t={};function e(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return n[o].call(r.exports,r,r.exports,e),r.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{"use strict";var n=e(753),t=e.n(n);class o{static instance=null;headers={Accept:"application/json","Content-Type":"application/json"};constructor(){return o.instance||(o.instance=this),o.instance}static getInstance(){return o.instance||new o}doGet=n=>fetch(`${n}`,{headers:this.headers}).then((n=>n.json())).catch((n=>console.log(n)));doGetWithHeaders=(n,t)=>fetch(`${n}`,{headers:t}).then((n=>n.json())).catch((n=>console.log(n)));doPost=(n,t,e)=>fetch(`${n}`,{headers:e,method:"POST",body:t}).then((n=>n.json())).catch((n=>console.log(n)));doDelete=(n,t)=>fetch(`${n}`,{headers:t,method:"DELETE"}).catch((n=>console.log(n)));doLogin=(n,t)=>fetch(`${n}`,{method:"POST",headers:this.headers,body:t});doRegister=(n,t)=>fetch(`${n}`,{method:"POST",headers:this.headers,body:t}).catch((n=>alert(n)));doUserInfo=(n,t)=>fetch(`${n}`,{headers:t}).then((n=>n.json())).catch((n=>alert(n)))}class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML=this.render(),this.shadowRoot.addEventListener("click",this._handleBackdropClick),this.shadowRoot.getElementById("cancel-button").addEventListener("click",this.cancel.bind(this))}open(){this.setAttribute("opened","")}hide(){this.removeAttribute("opened")}cancel(n){this.hide();const t=new Event("cancel",{bubbles:!0,composed:!0});n.target.dispatchEvent(t)}_handleBackdropClick=n=>{"backdrop"===n.target.id&&this.cancel()}}class r extends i{constructor(n,t){super(),this.text=n,this.url=t}connectedCallback(){super.connectedCallback(),this.shadowRoot.innerHTML=this.render(),this.shadowRoot.getElementById("confirm-button").addEventListener("click",this.delete.bind(this))}delete(){const n={Accept:"application/json","Content-Type":"application/json",Authorization:sessionStorage.getItem("jwt")};o.getInstance().doDelete(this.url,n).then((()=>location.reload())),this.hide()}render(){return`\n            <style>\n              #backdrop {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100vh;\n                background: rgba(0, 0, 0, 0.75);\n                z-index: 10;\n                opacity: 0;\n                pointer-events: none;\n              }\n        \n              :host([opened]) #backdrop,\n              :host([opened]) #background {\n                opacity: 1;\n                pointer-events: all;\n              }\n        \n              :host([opened]) #background {\n                top: 15vh;\n              }\n        \n              #background {\n                position: fixed;\n                top: 10vh;\n                left: 25%;\n                width: 50%;\n                z-index: 100;\n                background: white;\n                border-radius: 3px;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n                display: flex;\n                flex-direction: column;\n                justify-content: space-between;\n                opacity: 0;\n                pointer-events: none;\n                transition: all 0.3s ease-out;\n              }\n        \n              header {\n                padding: 1rem;\n                border-bottom: 1px solid #ccc;\n              }\n        \n              ::slotted(h1) {\n                font-size: 1.25rem;\n                margin: 0;\n              }\n        \n              #content {\n                padding: 1rem;\n              }\n        \n              #buttons-container {\n                border-top: 1px solid #ccc;\n                padding: 1rem;\n                display: flex;\n                justify-content: flex-end;\n              }\n        \n              #buttons-container button:not(:last-child) {\n                margin-right: 0.25rem;\n              }\n              \n              #content p {\n                font-size: 1.5rem;\n                color: #333;\n              }\n            </style>\n        \n            <div id="backdrop"></div>\n            <div id="background">\n              <section id="content">\n                <p>${this.text}</p>\n              </section>\n              <section id="buttons-container">\n                <button id="cancel-button">Cancel</button>\n                <button id="confirm-button">Ok</button>\n              </section>\n            </div>\n    `}}customElements.define("article-delete",r);const s="http://localhost:3000/articles/api/",a="http://localhost:3000/auth/api/";class d extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}set setArticle(n){this.article=n,this.render()}delete(){const n=new r("Would you like to delete Article?",s+this.article.id);this.articleCard.appendChild(n),n.open()}like(){const n={Accept:"application/json","Content-Type":"application/json",Authorization:sessionStorage.getItem("jwt")};o.getInstance().doPost(`${s}like/${this.id}`,null,n).then((n=>{const t=n.status;"like"===t?this.addLike():"dislike"===t?this.deleteLike():console.error(`Unknown response: ${t}`)})).catch((n=>{console.error(`Failed to add like: ${n}`)}))}showLikeInfo(){o.getInstance().doGet(`${s}like/${this.id}`,null,{Accept:"application/json","Content-Type":"application/json"}).then((n=>{const t=n.users;if(t.length>0){const n=`<div class="like-tooltip-content">${t.map((n=>`<div>${n}</div>`)).join("")}</div>`,e=document.createElement("div");e.className="like-tooltip",e.innerHTML=n,this.shadowRoot.getElementById("like-button").appendChild(e)}})).catch((n=>{console.error(`Failed to retrieve likes: ${n}`)}))}hideLikeInfo(){const n=this.shadowRoot.getElementById("like-button"),t=n.querySelector(".like-tooltip");t&&n.removeChild(t)}addLike(){const n=this.shadowRoot.querySelector(".likes"),t=parseInt(n.innerText);n.innerText=t+1}deleteLike(){const n=this.shadowRoot.querySelector(".likes"),t=parseInt(n.innerText);n.innerText=t-1}getTimeElapsed(n){const t=(new Date).getTime()-n.getTime();return t<6e4?Math.floor(t/1e3)+"s":t<36e5?Math.floor(t/6e4)+"m":t<864e5?Math.floor(t/36e5)+"h":t<6048e5?Math.floor(t/864e5)+"day":Math.floor(t/6048e5)+"week"}render(){const{author_firstName:n,author_lastName:t,author_username:e,text:o,id:i,timestamp:r,numOfLikes:s}=this.article||{},a=new Date(r),d=this.getTimeElapsed(a);this.shadowRoot.innerHTML=`\n            <style>\n              .article-card {\n                position: relative;\n                background-color: #111;\n                border-bottom: 1px solid #444;\n                border-top: none;\n                box-sizing: border-box;\n                color: #eee;\n                display: block;\n                padding: 0 0.8rem;\n              }\n              \n              .name {\n                font-weight: 700;\n                text-align: left;\n              }\n              \n              .username {\n                color: #666;\n                font-weight: 500;\n                text-align: left;\n              }\n              \n              .content {\n                text-align: justify;\n              }\n              \n              .id {\n                display: none;\n              }\n              \n              #like-button {\n                position: relative;\n                font-size: 1.2rem;\n                cursor: pointer;\n              }\n            \n              .likes {\n                font-size: 1rem;\n                margin-left: 5px;\n              }   \n                      \n              .like-tooltip {\n                position: absolute;\n                top: 100%;\n                left: 50%;\n                transform: translateX(-50%);\n                background-color: #333;\n                color: #fff;\n                font-size: 12px;\n                padding: 6px;\n                border-radius: 4px;\n                z-index: 9999;\n                white-space: nowrap;\n                text-align: left;\n              }\n              \n              .like-tooltip-content {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n              }\n              \n              #like-button:hover .like-tooltip {\n                visibility: visible;\n                opacity: 1;\n              }  \n            </style>\n    \n            <div class="article-card">\n                <p class="name">${n} ${t} <span class="username">@${e}  •  ${d}</span></p>\n                <p class="content">${o}</p>\n                <p class="id">${i}</p>\n                <div>\n                    <p><span id="like-button">👍</span><span class="likes">${s}</span>   </p>             \n                    <button id="delete-button">Delete</button>\n                </div>\n            </div>\n        `,this.articleCard=this.shadowRoot.querySelector(".article-card"),this.id=this.shadowRoot.querySelector(".id").innerText,this.shadowRoot.getElementById("delete-button").addEventListener("click",this.delete.bind(this)),this.shadowRoot.getElementById("like-button").addEventListener("click",this.like.bind(this)),this.shadowRoot.getElementById("like-button").addEventListener("mouseenter",this.showLikeInfo.bind(this)),this.shadowRoot.getElementById("like-button").addEventListener("mouseleave",this.hideLikeInfo.bind(this))}}customElements.define("article-card",d);class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML=this.render(),this.shadowRoot.getElementById("send-button").addEventListener("click",this.postData.bind(this))}postData=n=>{n.preventDefault();const t={title:"title",text:this.shadowRoot.getElementById("post-content").value},e={Accept:"application/json","Content-Type":"application/json",Authorization:sessionStorage.getItem("jwt")};o.getInstance().doPost(s,JSON.stringify(t),e).then((()=>location.reload()))};render(){return'\n            <style>\n                #input-bar {\n                    display: grid;\n                    grid-template-columns: 1fr auto;\n                    align-items: center;\n                    justify-content: space-between;\n                    width: 80%;\n                }\n            \n                #post-content {\n                    background-color: #111;\n                    border: none;\n                    box-sizing: border-box;\n                    color: #eee;\n                    font-size: 1rem;\n                    height: 100%;\n                    outline: none;\n                    padding: 0.5rem;\n                    resize: none;\n                    overflow: hidden;\n                    grid-column: 1 / span 2;\n                }\n            \n                #send-button {\n                    position: absolute;\n                    right: 2%;\n                    top:75%;\n                    background-color: red;\n                    border: none;\n                    border-radius: 9999px;\n                    color: #eee;\n                    cursor: pointer;\n                    font-size: 0.9rem;\n                    font-weight: 700;\n                    padding: 6px 14px;\n                    text-align: center;\n                    text-decoration: none;\n                    transition: background-color 0.3s ease-out;\n                }\n            \n                #send-button:hover {\n                    background-color: #cc0000;\n                }\n            \n                @media screen and (max-width: 600px) {\n                    #input-bar {\n                        grid-template-columns: 1fr;\n                        grid-template-rows: auto auto;\n                    }\n                }\n            </style>\n            \n            <div id="input-bar">\n                <textarea id="post-content" placeholder="What\'s happening?"></textarea>\n                <button id="send-button">SEND</button>\n            </div>\n    '}}customElements.define("article-post",c);class l extends i{connectedCallback(){super.connectedCallback(),this.shadowRoot.getElementById("submit-button").addEventListener("click",this.submit.bind(this))}submit(n){n.preventDefault();const t=this.authorize();console.log(t),!0===t&&this.hide()}getData(n){const t={};for(const e of n){const n=this.shadowRoot.getElementById(e);n&&(t[e]=n.value)}return t}}class h extends l{connectedCallback(){super.connectedCallback()}authorize(){const n=this.getData(["username","password"]);o.getInstance().doLogin(a+"login",JSON.stringify(n)).catch((n=>{if(console.log(n),n.response&&401===n.response.status){console.log(n);const t=this.shadowRoot.getElementById("login-form"),e=document.createElement("p");return e.textContent="Podane hasło jest nieprawidłowe.",e.style.color="red",t.appendChild(e),console.log(!1),!1}console.error(n)})).then((n=>{sessionStorage.setItem("jwt",n.json().jwt)}))}render(){return'\n            <style>\n              :host([opened]) #backdrop,\n              :host([opened]) #background {\n                opacity: 1;\n                pointer-events: all;\n              }\n            \n              :host([opened]) #background {\n                top: 15vh;\n              }\n            \n              #backdrop {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100vh;\n                background: rgba(0, 0, 0, 0.75);\n                z-index: 10;\n                opacity: 0;\n                pointer-events: none;\n              }\n            \n              #background {\n                position: fixed;\n                top: 10vh;\n                left: 25%;\n                width: 50%;\n                z-index: 100;\n                background: white;\n                border-radius: 3px;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: center;\n                opacity: 0;\n                pointer-events: none;\n                transition: all 0.3s ease-out;\n              }\n            \n              form {\n                max-width: 400px;\n                margin: 50px auto;\n                padding: 20px;\n                background-color: #fff;\n                border-radius: 5px;\n                box-shadow: 0 0 10px #ccc;\n              }\n            \n              input[type=text],\n              input[type=password] {\n                width: 100%;\n                padding: 10px;\n                margin: 8px 0;\n                border: 1px solid #ccc;\n                border-radius: 4px;\n                box-sizing: border-box;\n              }\n            \n              button {\n                width: 100%;\n                background-color: #4CAF50;\n                color: white;\n                padding: 10px 20px;\n                margin: 8px 0;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n              }\n            \n              button:hover {\n                background-color: #45a049;\n              }\n            </style>\n            \n            <div id="backdrop"></div>\n            <div id="background">\n                <form id="login-form">\n                    <h2>Logowanie</h2>\n                    <label for="username">Nazwa użytkownika:</label>\n                    <input type="text" id="username" name="username" placeholder="Podaj nazwę użytkownika">\n        \n                    <label for="password">Hasło:</label>\n                    <input type="password" id="password" name="password" placeholder="Podaj hasło">\n        \n                    <button id="cancel-button">Anuluj</button>\n                    <button id="submit-button">Zaloguj</button>\n                </form>\n            </div>\n    '}}customElements.define("login-form",h);class u extends l{connectedCallback(){super.connectedCallback()}submit(){sessionStorage.removeItem("jwt")}render(){return'\n            <style>\n              :host([opened]) #backdrop,\n              :host([opened]) #background {\n                opacity: 1;\n                pointer-events: all;\n              }\n        \n              :host([opened]) #background {\n                top: 15vh;\n              }\n        \n              #backdrop {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100vh;\n                background: rgba(0, 0, 0, 0.75);\n                z-index: 10;\n                opacity: 0;\n                pointer-events: none;\n              }\n        \n              #background {\n                position: fixed;\n                top: 10vh;\n                left: 25%;\n                width: 50%;\n                z-index: 100;\n                background: white;\n                border-radius: 3px;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: center;\n                opacity: 0;\n                pointer-events: none;\n                transition: all 0.3s ease-out;\n              }\n        \n              form {\n                max-width: 400px;\n                margin: 50px auto;\n                padding: 20px;\n                background-color: #fff;\n                border-radius: 5px;\n                box-shadow: 0 0 10px #ccc;\n              }\n        \n              input[type=text],\n              input[type=password] {\n                width: 100%;\n                padding: 10px;\n                margin: 8px 0;\n                border: 1px solid #ccc;\n                border-radius: 4px;\n                box-sizing: border-box;\n              }\n        \n              button {\n                width: 100%;\n                background-color: #4CAF50;\n                color: white;\n                padding: 10px 20px;\n                margin: 8px 0;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n              }\n        \n              button:hover {\n                background-color: #45a049;\n              }\n            </style>\n        \n            <div id="backdrop"></div>\n            <div id="background">\n              <form>\n                <h2>Na pewno chcesz się wylogowac?</h2>\n                <button id="cancel-button">No</button>\n                <button id="submit-button">Yes</button>\n              </form>\n            </div>\n    '}}customElements.define("logout-form",u);class p extends l{connectedCallback(){super.connectedCallback()}authorize(){const n=this.getData(["username","password","firstName","lastName","role"]);o.getInstance().doRegister(a+"register",JSON.stringify(n))}render(){return'\n            <style>\n              :host([opened]) #backdrop,\n              :host([opened]) #background {\n                opacity: 1;\n                pointer-events: all;\n              }\n            \n              :host([opened]) #background {\n                top: 15vh;\n              }\n            \n              #backdrop {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100vh;\n                background: rgba(0, 0, 0, 0.75);\n                z-index: 10;\n                opacity: 0;\n                pointer-events: none;\n              }\n            \n              #background {\n                position: fixed;\n                top: 10vh;\n                left: 25%;\n                width: 50%;\n                z-index: 100;\n                background: white;\n                border-radius: 3px;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                align-items: center;\n                opacity: 0;\n                pointer-events: none;\n                transition: all 0.3s ease-out;\n              }\n            \n              form {\n                max-width: 400px;\n                margin: 50px auto;\n                padding: 20px;\n                background-color: #fff;\n                border-radius: 5px;\n                box-shadow: 0 0 10px #ccc;\n              }\n            \n              input[type=text],\n              input[type=password] {\n                width: 100%;\n                padding: 10px;\n                margin: 8px 0;\n                border: 1px solid #ccc;\n                border-radius: 4px;\n                box-sizing: border-box;\n              }\n            \n              button {\n                width: 100%;\n                background-color: #4CAF50;\n                color: white;\n                padding: 10px 20px;\n                margin: 8px 0;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n              }\n            \n              button:hover {\n                background-color: #45a049;\n              }\n              \n              #role {\n              display: none;\n              }\n            </style>\n\n        <div id="backdrop"></div>\n        <div id="background">\n            <form id="register-form">\n                <h2>Rejestracja</h2>\n                <label for="username">Nazwa użytkownika:</label>\n                <input type="text" id="username" name="username" placeholder="Podaj nazwę użytkownika">\n        \n                <label for="password">Hasło:</label>\n                <input type="password" id="password" name="password" placeholder="Podaj hasło">\n                \n                <label for="confirm_password">Potwierdź hasło:</label>\n                <input type="password" id="confirm_password" name="confirm_password" placeholder="Potwierdź hasło">\n                \n                <label for="firstName">Imię:</label>\n                <input type="text" id="firstName" name="firstName" placeholder="Podaj imię">\n                            \n                <label for="lastName">Nazwisko:</label>\n                <input type="text" id="lastName" name="lastName" placeholder="Podaj nazwisko">\n                \n                <input type="text" id="role" name="role" value="ROLE_USER">\n        \n                <button id="cancel-button">Cancel</button>\n                <button id="submit-button">Ok</button>\n            </form>\n        </div>\n    '}}customElements.define("registration-form",p);class g{static create(n){switch(n){case"login":return new h;case"logout":return new u;case"registration":return new p;default:throw new Error("Invalid modal type")}}}class f extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}createModal(n){const t=g.create(n);this.shadowRoot.appendChild(t),t.open()}}class b extends f{constructor(){super()}connectedCallback(){this.shadowRoot.innerHTML=this.render(),this.shadowRoot.getElementById("login-button").addEventListener("click",(()=>this.createModal("login"))),this.shadowRoot.getElementById("register-button").addEventListener("click",(()=>this.createModal("registration")))}render(){return'\n            <style>\n              button {\n                width: 8rem;\n                background-color: red;\n                border: none;\n                color: white;\n                padding: 0.5rem 1rem;\n                text-align: center;\n                text-decoration: none;\n                display: inline-block;\n                font-size: 1rem;\n                margin: 0.5rem;\n                cursor: pointer;\n                border-radius: 4px;\n                transition: background-color 0.3s ease-out;\n              }\n              button:hover {\n                background-color: #cc0000;\n              }\n            </style>\n            \n            <button id="login-button">LOGIN</button>\n            <button id="register-button">REGISTER</button>\n    '}}customElements.define("authorization-anonymous",b);class m extends f{constructor(){super(),this.getUser()}async getUser(){const n=await this.getContext();this.shadowRoot.innerHTML=this.render(n),this.shadowRoot.getElementById("logout-button").addEventListener("click",(()=>this.createModal("logout")))}async getContext(){const n={Accept:"application/json","Content-Type":"application/json",Authorization:sessionStorage.getItem("jwt")};return await o.getInstance().doUserInfo(a+"user-info",n)}render(n){return`\n            <style>\n              section {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                margin: 0 0.5rem;\n              }\n              \n              p {\n                margin: 0.5rem auto;\n                color: white;\n                font-size: 1.2rem;\n              }\n                \n              button {\n                width: 8rem;\n                background-color: red;\n                border: none;\n                color: white;\n                padding: 0.5rem 1rem;\n                text-align: center;\n                text-decoration: none;\n                display: inline-block;\n                font-size: 1rem;\n                margin: 0.5rem;\n                cursor: pointer;\n                border-radius: 4px;\n                transition: background-color 0.3s ease-out;\n              }\n              button:hover {\n                background-color: #cc0000;\n              }\n            </style>\n            \n            <section> \n                <p>Hello, ${n.firstName} ${n.lastName}</p>\n                <button id="logout-button">LOGOUT</button>   \n            </section>\n    `}}customElements.define("authorization-authenticated",m);class x{static create(){return null==sessionStorage.getItem("jwt")?new b:new m}}class w extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}set setNotification(n){this.notification=n,this.render()}render(){const{name:n,message:t,content:e}=this.notification||{};this.shadowRoot.innerHTML=`\n            <style>\n              .notification-card {\n                background-color: #111;\n                border-bottom: 1px solid #444;\n                border-top: none;\n                box-sizing: border-box;\n                color: #eee;\n                display: block;\n                padding: 0 0.8rem;\n              }\n              \n              .message {\n                text-align: left;\n              }\n              \n              .name {\n                font-weight: 700;\n                text-align: left;\n              }\n              \n              .content {\n                text-align: justify;\n                color: #666;\n              }\n            </style>\n    \n            <div class="notification-card">\n                <p class="message"><span class="name">${n}</span> ${t}</p>\n                <p class="content">${e}</p>\n            </div>\n        `,this.articleCard=this.shadowRoot.querySelector(".notification-card")}}customElements.define("notification-card",w);class y extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.shadowRoot.innerHTML=this.render(),this.dataList=this.shadowRoot.getElementById("data-list"),this.input=this.shadowRoot.getElementById("search-input"),this.authorizationBoard=this.shadowRoot.getElementById("authorization-board"),this.authorizationBoard.appendChild(x.create()),this.inputBar=this.shadowRoot.getElementById("input-bar"),this.inputBar.appendChild(new c),this.shadowRoot.getElementById("search-input").addEventListener("keyup",(n=>{this.getData(n)})),this.shadowRoot.getElementById("home-button").addEventListener("click",(()=>{this.getData()})),this.shadowRoot.getElementById("notifications-button").addEventListener("click",(()=>{this.getNotificationsData()})),this.getData()}async getData(n){if(n&&"Enter"!==n.key)return;this.inputBar.style.display="block",this.dataList.innerHTML="";const t=await this.getArticles();this.renderArticles(t),this.input.value=""}async getNotificationsData(){this.inputBar.style.display="none",this.dataList.innerHTML="";const n=await this.getNotifications();this.renderNotifications(n)}async getArticles(){return await o.getInstance().doGet(s+this.input.value)}async getNotifications(){const n={Accept:"application/json","Content-Type":"application/json",Authorization:sessionStorage.getItem("jwt")};return await o.getInstance().doGetWithHeaders("http://localhost:3000/notifications/api/",n)}renderArticles(n){n.forEach((n=>{const t=document.createElement("li"),e=new d;e.setArticle=n,t.appendChild(e),this.dataList.appendChild(t)}))}renderNotifications(n){n.forEach((n=>{const t=document.createElement("li"),e=new w;e.setNotification=n,t.appendChild(e),this.dataList.appendChild(t)}))}render(){return'\n            <style>\n              #background {\n                max-width: 40rem;\n                align-items: center;\n                display: flex;\n                flex-direction: column;\n                justify-content: center;\n                margin: auto;\n              }\n              \n              #authorization-board {\n                display: flex;\n                align-items: center;\n                flex-direction: column;\n                justify-content: center;\n              }\n              \n              #main-board {\n                align-items: center;\n                display: flex;\n                flex-direction: column;\n                height: 100%;\n                margin: auto;\n                width: 80%;\n              }\n              \n              #search-input {\n                background-color: #444;\n                border: 1px solid #444;\n                border-radius: 8px;\n                box-sizing: border-box;\n                color: #eee;\n                font-size: 1rem;\n                height: 2rem;\n                margin: 0.4rem auto;\n                outline: none;\n                padding: 0.5rem;\n                width: 80%;\n              }\n              \n              #input-bar {\n                align-items: center;\n                border: 1px solid #444;\n                box-sizing: border-box;\n                display: flex;\n                flex-direction: column;\n                justify-content: right;\n                position: relative;\n                width: 100%;\n                height: 10rem;\n              }\n              \n              #data-list {\n                border-left: 1px solid #444;\n                border-right: 1px solid #444;\n                box-sizing: border-box;\n                list-style-type: none;\n                margin: 0;\n                padding: 0;\n                width: 100%;\n              }\n              \n              button {\n                width: 8rem;\n                background-color: red;\n                border: none;\n                color: white;\n                padding: 0.5rem 1rem;\n                text-align: center;\n                text-decoration: none;\n                display: inline-block;\n                font-size: 1rem;\n                margin: 0.5rem;\n                cursor: pointer;\n                border-radius: 4px;\n                transition: background-color 0.3s ease-out;\n                bottom: 0;\n              }\n              \n              button:hover {\n                background-color: #cc0000;\n              }\n              \n              .button-container {\n                display: flex;\n                justify-content: center;\n                position: fixed;\n                bottom: 0;\n                width: 100%;\n                margin-top: 1rem;\n              }\n              \n              article-post {\n                width: 100%;\n                height: 100%;\n              }\n              \n              @media screen and (min-width: 860px) {\n                #background {\n                  flex-direction: row;\n                  align-items: flex-start;\n                  max-width: 100%;\n                  margin: auto;\n                }\n                \n                #authorization-board {\n                  order:1;\n                  width: 15rem;\n                  align-items: flex-end;\n                  flex-direction: column-reverse;\n                }\n                \n                #search-input {\n                  order:3;\n                  width: 15rem;\n                  margin: 0 0 0 1rem;\n                }\n                \n                #main-board {\n                  order:2;\n                  max-width: 35rem;\n                  margin:0;\n                }\n                \n              .button-container {\n                  display: flex;\n                  align-items: end;\n                  flex-direction: column;\n                  position: relative;\n                  margin-top: 1rem;\n                  margin-right: 1.4rem;\n                }\n              }\n            </style>\n            <div id="background"> \n              <div id="authorization-board">\n                 <div class="button-container">\n                  <button id="home-button">Home</button>\n                  <button id="notifications-button">Notifications</button>\n                </div>\n              </div>\n\n              <input id="search-input" type="text" placeholder="Search"> \n              <div id="main-board">\n                <div id="input-bar"></div>\n                <ul id="data-list"></ul>\n              </div>\n\n            </div>\n        '}}customElements.define("app-home",y);class v{static instance=null;constructor(){this.router=new(t())("/",!0,"#")}static getInstance(){return v.instance||(v.instance=new v),v.instance}static inject(n){const t=document.querySelector("main");for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(n)}init(){this.router.on((()=>{v.inject(new y)})).resolve(),[{path:"/home",component:y}].forEach((n=>{this.router.on(n.path,(t=>{v.inject(new n.component(t))})).resolve()}))}}new class{constructor(){(new v).init()}}})()})();